<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firestore Sample App</title>
    <!-- Script para importar as bibliotecas relativas às aplicações Firebase -->
    <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-app.js"></script>
    
    <!-- Script para importar as bibliotecas relativas à funcionalidade Firestore -->
    <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-firestore.js"></script>
    
    <!-- Link para importar Bootstrap (apenas para fins estéticos da página) -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" 
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    
     <!-- Link para custom CSS feito num ficheiro (apenas para fins estéticos da página) -->
    <link rel="stylesheet" href="index.css">
    <!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->

  <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-app.js"></script>

  <!-- Add Firebase products that you want to use -->
  <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-storage.js"></script>
  <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-auth.js"></script>
</head>
<body>

    <h3 class="text-center mt10">Firestore Sample App</h3>
    <div class="container mt10">
        <div class="row">
            <div class="col">
                <input type="text" class="form-control" id="email" placeholder="Email">
            </div>
            <div class="col">
                <input type="password" class="form-control" id="password" placeholder="Password">
            </div>
            <button onclick="login()" id="btn-login" class="btn btn-primary">Login</button>
            <button onclick="registo()" id="btn-registo" class="btn btn-secondary">Registar</button>
            <button onclick="logout()" id="btn-logout" style="display: none;" class="btn btn-warning">Logout</button>
        </div>
        <h3 class="text-center text-danger mt10" id="textInfo">Inicie Sessão ou Registe-se</h3>
        </div>
    </div>
    <div id="content">
    <div class="container mt50">
        <div class="row">
            <div class="col">
                <input type="text" class="form-control" id="idToBeEdited" placeholder="Id a Alterar">
            </div>
            <div class="col">
                <input type="text" class="form-control" id="name" placeholder="Nome">
            </div>
            <div class="col">
                <input type="text" class="form-control" id="surname" placeholder="Apelido">
            </div>
            <div class="col">
                <input type="text" class="form-control" id="phone" placeholder="Número">
            </div>
            <button onclick="addOrEditUser()" class="btn btn-primary">Adicionar Utilizador</button>
    </div>

    <div class="container mt10">
        <div class="row">
            <div class="col">
                <input type="text" class="form-control" id="idToBeDeleted" placeholder="Id do Utilizador">
            </div>
            <button onclick="deleteUser()" class="btn btn-danger">Remover Utilizador</button>
            <div class="col">
                <input type="text" class="form-control" id="surnameQuery" placeholder="Apelido">
            </div>
            <button onclick="getUsersBySurname()" class="btn btn-primary">Procurar por Apelido</button>
        </div>
        </div>
    </div>

    <div class="container mt10">
        <button onclick="getOrderedUsers()" class="btn btn-light w-100">Ordenar Utilizadores</button>
    </div>

    <div class="container mt10">
        <input type="text" id="userID">
        <input type="file" style="margin-top: 10px; margin-bottom: 10px;" id="fileButton" accept="image/jpeg">
        <button onclick="deleteFile()">Apagar foto</button>
        <input type="text" id="path">
        <!-- <button onclick="listFiles()">Listar Ficehiros</button> -->
        <ul class="list-group" id="list">
            <!-- Sítio onde serão adicionados os users através de Javascript -->
        </ul>
    </div>
</div>

    <!-- Script obtido na consola do Firebase - A SER SUBSTITUIDO PELO VOSSO -->
    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyD3eWC2x4BX51EMgGuWOxF01APbKwQPIOA",
            authDomain: "sgbd-ficha-4.firebaseapp.com",
            databaseURL: "https://sgbd-ficha-4.firebaseio.com",
            projectId: "sgbd-ficha-4",
            storageBucket: "sgbd-ficha-4.appspot.com",
            messagingSenderId: "271050992431",
            appId: "1:271050992431:web:8ab2f8cb109a751db2cfda"
        };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        /**
         * Esta linha foi adicionada criar uma instância 
         * (de acordo com as configs) 
         * para interagir com a base de dados
         */
        const db = firebase.firestore();
        const storage = firebase.storage();
        const auth = firebase.auth();
    </script>

     <!-- Script para o ficheiro javascript que correrá com o html -->
     <script src="app.js"></script>

</body>
</html>